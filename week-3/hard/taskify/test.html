<!-- <!DOCTYPE html>
<html>
<head>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  }

  body {
    background: #f5f5f5;
    padding: 20px;
  }

  .board {
    display: flex;
    gap: 20px;
    align-items: flex-start;
  }

  .column {
    background: #f5f5f5;
    border-radius: 8px;
    width: 300px;
    min-height: 400px;
  }

  .column-header {
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #333;
  }

  .column-header h2 {
    font-size: 16px;
    font-weight: 600;
  }

  .menu-icon {
    color: #666;
    cursor: pointer;
  }

  .card {
    background: white;
    border-radius: 6px;
    padding: 15px;
    margin: 10px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }

  .card-title {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 5px;
  }

  .card-description {
    font-size: 13px;
    color: #666;
    margin-bottom: 10px;
  }

  .card-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    color: #888;
  }

  .priority {
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
  }

  .priority.urgent {
    background: #FFE5E5;
    color: #FF4545;
  }

  .priority.medium {
    background: #FFE9CC;
    color: #FF9900;
  }

  .priority.low {
    background: #E5F5E5;
    color: #27AE60;
  }

  .add-new {
    background: #333;
    color: white;
    padding: 10px;
    margin: 10px;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .time {
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .time::before {
    content: "ðŸ•’";
    font-size: 12px;
  }
</style>
</head>
<body>
  <div class="board">
    <div class="column">
      <div class="column-header">
        <h2>To Do</h2>
        <span class="menu-icon">â‹®</span>
      </div>
      <div class="card">
        <div class="card-title">TODO DO</div>
        <div class="card-description">TODO DO DOD OD</div>
        <div class="card-meta">
          <span class="priority medium">Medium</span>
          <span class="time">July 31, 2024 â€¢ 1 hr ago</span>
        </div>
      </div>
      <div class="card">
        <div class="card-title">Finished</div>
        <div class="card-descri ption">Finished</div>
        <div class="card-meta">
          <span class="priority low">Low</span>
          <span class="time">July 31, 2024 â€¢ 1 hr ago</span>
        </div>
      </div>
      <div class="add-new">
        Add new <span>+</span>
      </div>
    </div>

    <div class="column">
      <div class="column-header">
        <h2>In Progress</h2>
        <span class="menu-icon">â‹®</span>
      </div>
      <div class="card">
        <div class="card-title">todo2</div>
        <div class="card-description">todo2 description</div>
        <div class="card-meta">
          <span class="priority medium">Medium</span>
          <span class="time">July 31, 2024 â€¢ 1 hr ago</span>
        </div>
      </div>
      <div class="add-new">
        Add new <span>+</span>
      </div>
    </div>

    <div class="column">
      <div class="column-header">
        <h2>Under Review</h2>
        <span class="menu-icon">â‹®</span>
      </div>
      <div class="card">
        <div class="card-title">todo3</div>
        <div class="card-description">ejsrfsdnjkfsdn</div>
        <div class="card-meta">
          <span class="priority urgent">Urgent</span>
          <span class="time">July 31, 2024 â€¢ 1 hr ago</span>
        </div>
      </div>
      <div class="card">
        <div class="card-title">prod todo</div>
        <div class="card-description">this is prod todo</div>
        <div class="card-meta">
          <span class="priority medium">Medium</span>
          <span class="time">July 31, 2024 â€¢ 1 hr ago</span>
        </div>
      </div>
      <div class="add-new">
        Add new <span>+</span>
      </div>
    </div>

    <div class="column">
      <div class="column-header">
        <h2>Finished</h2>
        <span class="menu-icon">â‹®</span>
      </div>
      <div class="card">
        <div class="card-title">todo4</div>
        <div class="card-description">waeeddesfdaf</div>
        <div class="card-meta">
          <span class="priority medium">Medium</span>
          <span class="time">July 31, 2024 â€¢ 1 hr ago</span>
        </div>
      </div>
      <div class="card">
        <div class="card-title">testing todo</div>
        <div class="card-description">final testing todo desc</div>
        <div class="card-meta">
          <span class="priority urgent">Urgent</span>
          <span class="time">July 31, 2024 â€¢ 1 hr ago</span>
        </div>
      </div>
      <div class="add-new">
        Add new <span>+</span>
      </div>
    </div>
  </div>
</body>
</html> -->



<!DOCTYPE html>
<html>
<head>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  }

  body {
    background: #f5f5f5;
    padding: 20px;
  }

  .board {
    display: flex;
    gap: 20px;
    align-items: flex-start;
  }

  .column {
    background: #f5f5f5;
    border-radius: 8px;
    width: 300px;
    min-height: 400px;
  }

  .column-header {
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #333;
  }

  .column-header h2 {
    font-size: 16px;
    font-weight: 600;
  }

  .menu-icon {
    color: #666;
    cursor: pointer;
  }

  .card {
    background: white;
    border-radius: 6px;
    padding: 15px;
    margin: 10px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    cursor: grab;
  }

  .card:active {
    cursor: grabbing;
  }

  .card-title {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 5px;
  }

  .card-description {
    font-size: 13px;
    color: #666;
    margin-bottom: 10px;
  }

  .card-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    color: #888;
  }

  .priority {
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
  }

  .priority.urgent {
    background: #FFE5E5;
    color: #FF4545;
  }

  .priority.medium {
    background: #FFE9CC;
    color: #FF9900;
  }

  .priority.low {
    background: #E5F5E5;
    color: #27AE60;
  }

  .add-new {
    background: #333;
    color: white;
    padding: 10px;
    margin: 10px;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .time {
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .time::before {
    content: "ðŸ•’";
    font-size: 12px;
  }

  .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    justify-content: center;
    align-items: center;
  }

  .modal.show {
    display: flex;
  }

  .modal-content {
    background: white;
    padding: 20px;
    border-radius: 8px;
    width: 400px;
  }

  .form-group {
    margin-bottom: 15px;
  }

  .form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
  }

  .form-group input,
  .form-group textarea,
  .form-group select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
  }

  .modal-buttons {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;
  }

  .btn {
    padding: 8px 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
  }

  .btn-primary {
    background: #333;
    color: white;
  }

  .btn-secondary {
    background: #eee;
    color: #333;
  }

  .delete-btn {
    float: right;
    color: #FF4545;
    cursor: pointer;
    font-size: 18px;
    margin-top: -5px;
  }
</style>
</head>
<body>
  <div class="board">
    <div class="column" data-column="todo">
      <div class="column-header">
        <h2>To Do</h2>
        <span class="menu-icon">â‹®</span>
      </div>
      <div class="add-new">
        Add new <span>+</span>
      </div>
    </div>

    <div class="column" data-column="in-progress">
      <div class="column-header">
        <h2>In Progress</h2>
        <span class="menu-icon">â‹®</span>
      </div>
      <div class="add-new">
        Add new <span>+</span>
      </div>
    </div>

    <div class="column" data-column="review">
      <div class="column-header">
        <h2>Under Review</h2>
        <span class="menu-icon">â‹®</span>
      </div>
      <div class="add-new">
        Add new <span>+</span>
      </div>
    </div>

    <div class="column" data-column="finished">
      <div class="column-header">
        <h2>Finished</h2>
        <span class="menu-icon">â‹®</span>
      </div>
      <div class="add-new">
        Add new <span>+</span>
      </div>
    </div>
  </div>

  <div class="modal" id="taskModal">
    <div class="modal-content">
      <div class="form-group">
        <label for="taskTitle">Title</label>
        <input type="text" id="taskTitle" required>
      </div>
      <div class="form-group">
        <label for="taskDescription">Description</label>
        <textarea id="taskDescription" rows="3"></textarea>
      </div>
      <div class="form-group">
        <label for="taskPriority">Priority</label>
        <select id="taskPriority">
          <option value="low">Low</option>
          <option value="medium">Medium</option>
          <option value="urgent">Urgent</option>
        </select>
      </div>
      <div class="modal-buttons">
        <button class="btn btn-secondary" id="cancelTask">Cancel</button>
        <button class="btn btn-primary" id="saveTask">Save Task</button>
      </div>
    </div>
  </div>

  <script>
    // State management
    let currentColumn = null;
    let draggedCard = null;

    // Initialize from localStorage or use empty arrays
    let tasks = JSON.parse(localStorage.getItem('kanbanTasks')) || {
      'todo': [],
      'in-progress': [],
      'review': [],
      'finished': []
    };

    // Save tasks to localStorage
    function saveTasks() {
      localStorage.setItem('kanbanTasks', JSON.stringify(tasks));
    }

    // Create a new task card
    function createTaskCard(task) {
      const card = document.createElement('div');
      card.className = 'card';
      card.draggable = true;
      card.dataset.taskId = task.id;

      card.innerHTML = `
        <span class="delete-btn">&times;</span>
        <div class="card-title">${task.title}</div>
        <div class="card-description">${task.description}</div>
        <div class="card-meta">
          <span class="priority ${task.priority}">${task.priority.charAt(0).toUpperCase() + task.priority.slice(1)}</span>
          <span class="time">${task.date} â€¢ ${task.timeAgo}</span>
        </div>
      `;

      // Add drag events
      card.addEventListener('dragstart', handleDragStart);
      card.addEventListener('dragend', handleDragEnd);

      // Add delete functionality
      card.querySelector('.delete-btn').addEventListener('click', (e) => {
        e.stopPropagation();
        const taskId = card.dataset.taskId;
        for (let column in tasks) {
          tasks[column] = tasks[column].filter(t => t.id !== taskId);
        }
        card.remove();
        saveTasks();
      });

      return card;
    }

    // Render all tasks
    function renderTasks() {
      for (let column in tasks) {
        const columnEl = document.querySelector(`[data-column="${column}"]`);
        const existingCards = columnEl.querySelectorAll('.card');
        existingCards.forEach(card => card.remove());

        tasks[column].forEach(task => {
          const card = createTaskCard(task);
          columnEl.insertBefore(card, columnEl.querySelector('.add-new'));
        });
      }
    }

    // Modal functionality
    const modal = document.getElementById('taskModal');
    const addButtons = document.querySelectorAll('.add-new');
    const cancelButton = document.getElementById('cancelTask');
    const saveButton = document.getElementById('saveTask');

    addButtons.forEach(button => {
      button.addEventListener('click', () => {
        currentColumn = button.parentElement.dataset.column;
        modal.classList.add('show');
      });
    });

    cancelButton.addEventListener('click', () => {
      modal.classList.remove('show');
      document.getElementById('taskTitle').value = '';
      document.getElementById('taskDescription').value = '';
      document.getElementById('taskPriority').value = 'medium';
    });

    saveButton.addEventListener('click', () => {
      const title = document.getElementById('taskTitle').value.trim();
      if (!title) return;

      const task = {
        id: Date.now().toString(),
        title,
        description: document.getElementById('taskDescription').value.trim(),
        priority: document.getElementById('taskPriority').value,
        date: new Date().toLocaleDateString(),
        timeAgo: '1 hr ago'
      };

      tasks[currentColumn].push(task);
      saveTasks();
      renderTasks();

      modal.classList.remove('show');
      document.getElementById('taskTitle').value = '';
      document.getElementById('taskDescription').value = '';
      document.getElementById('taskPriority').value = 'medium';
    });

    // Drag and drop functionality
    function handleDragStart(e) {
      draggedCard = e.target;
      e.target.style.opacity = '0.4';
      e.dataTransfer.effectAllowed = 'move';
    }

    function handleDragEnd(e) {
      e.target.style.opacity = '1';
      draggedCard = null;
    }

    document.querySelectorAll('.column').forEach(column => {
      column.addEventListener('dragover', (e) => {
        e.preventDefault();
        e.dataTransfer.dropEffect = 'move';
      });

      column.addEventListener('drop', (e) => {
        e.preventDefault();
        if (!draggedCard) return;

        const sourceColumn = draggedCard.parentElement.dataset.column;
        const targetColumn = column.dataset.column;
        const taskId = draggedCard.dataset.taskId;
        const taskIndex = tasks[sourceColumn].findIndex(t => t.id === taskId);
        
        if (taskIndex !== -1) {
          const task = tasks[sourceColumn][taskIndex];
          tasks[sourceColumn].splice(taskIndex, 1);
          tasks[targetColumn].push(task);
          saveTasks();
          renderTasks();
        }
      });
    });

    // Initial render
    renderTasks();
  </script>
</body>
</html> 